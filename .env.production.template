# FitnessCRM Production Environment Variables Template
# Copy this file to .env.production and fill in the values

# ======================
# Database Configuration
# ======================
POSTGRES_DB=fitnesscrm_prod
POSTGRES_USER=fitnesscrm_user
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD_123!

# ======================
# Redis Configuration
# ======================
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_456!

# ======================
# Application Configuration
# ======================
FLASK_ENV=production
SECRET_KEY=CHANGE_THIS_TO_A_LONG_RANDOM_SECRET_KEY_789!
LOG_LEVEL=INFO

# ======================
# Database URL
# ======================
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# ======================
# Redis URL
# ======================
# Format: redis://:password@host:port/db
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# ======================
# CORS Configuration
# ======================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ======================
# Frontend Configuration
# ======================
VITE_API_URL=https://api.yourdomain.com
VITE_APP_ENV=production

# ======================
# Error Tracking (Sentry)
# ======================
# Get your Sentry DSN from https://sentry.io
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ======================
# Email Configuration
# ======================
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# ======================
# SMS Configuration (Twilio)
# ======================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ======================
# Payment Processing (Stripe)
# ======================
STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key
STRIPE_SECRET_KEY=sk_live_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ======================
# File Upload Configuration
# ======================
MAX_CONTENT_LENGTH=10485760  # 10MB in bytes
UPLOAD_FOLDER=/app/uploads

# ======================
# Session Configuration
# ======================
SESSION_TYPE=redis
SESSION_PERMANENT=false
SESSION_USE_SIGNER=true
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# ======================
# Security Configuration
# ======================
# Enable HTTPS only (set to true in production)
FORCE_HTTPS=true

# Content Security Policy
CSP_ENABLED=true

# Enable/disable HSTS
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year

# ======================
# API Rate Limiting
# ======================
RATELIMIT_ENABLED=true
RATELIMIT_STORAGE_URL=${REDIS_URL}

# ======================
# Backup Configuration
# ======================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ======================
# Monitoring Configuration
# ======================
# Health check endpoint
HEALTH_CHECK_PATH=/api/health

# Enable detailed error logging
ERROR_LOGGING_ENABLED=true

# ======================
# Performance Configuration
# ======================
# Gunicorn workers (recommended: 2-4 x number of CPU cores)
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=gevent
GUNICORN_WORKER_CONNECTIONS=1000
GUNICORN_TIMEOUT=120

# Cache timeout in seconds
CACHE_DEFAULT_TIMEOUT=300
CACHE_TYPE=redis

# ======================
# Feature Flags
# ======================
FEATURE_AI_ENABLED=true
FEATURE_SMS_ENABLED=true
FEATURE_PAYMENTS_ENABLED=true
FEATURE_INTEGRATIONS_ENABLED=true

# ======================
# Domain Configuration
# ======================
DOMAIN=yourdomain.com
API_DOMAIN=api.yourdomain.com
