# Railway Configuration for FitnessCRM Backend
# 
# IMPORTANT: Set "Root Directory" to "backend" in Railway settings!
# Railway Dashboard → Your Service → Settings → Root Directory → Type: backend
#
# This tells Railway to:
# 1. Look for files in the backend/ directory
# 2. Use backend/nixpacks.toml for build config
# 3. Use backend/Procfile as fallback
# 4. Ignore any Dockerfile

[build]
builder = "NIXPACKS"

[deploy]
startCommand = "gunicorn app:app --bind 0.0.0.0:$PORT --workers 2 --timeout 120 --log-level info"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Alternative: Set "Root Directory" to "backend" in Railway UI
# If you set Root Directory to "backend", Railway will automatically use
# the Procfile and nixpacks.toml in that directory instead of this config.
# Those files don't need "cd backend" since they're already in that directory.
